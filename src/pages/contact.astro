---
import BaseLayout from '../layouts/BaseLayout.astro';
import Breadcrumb from '../components/Breadcrumb.astro';
import { createTranslator } from '../i18n/utils';

const { t } = createTranslator();

const breadcrumbItems = [
  { name: t('pages.contact.breadcrumb.home'), url: '/' },
  { name: t('pages.contact.breadcrumb.contact'), url: '/contact' }
];
---

<BaseLayout
  title={t('pages.contact.meta.title')}
  description={t('pages.contact.meta.description')}
  keywords={t('pages.contact.meta.keywords')}
  ogType="website"
  structuredDataType="organization"
  structuredData={{
    contactPoint: {
      '@type': 'ContactPoint',
      contactType: 'Customer Service',
      email: 'contact@rediacc.com',
      url: 'https://www.rediacc.com/contact'
    }
  }}
>
  <div class="container">
    <Breadcrumb items={breadcrumbItems} />
  </div>

  <section class="hero">
    <div class="hero-container">
      <div class="hero-content">
        <h1 class="hero-title">{t('pages.contact.hero.title')}</h1>
        <p class="hero-subtitle">
          {t('pages.contact.hero.subtitle')}
        </p>
      </div>
    </div>
  </section>

  <section class="contact-content">
    <div class="container">
      <div class="contact-grid">
        <div class="contact-info">
          <h2>{t('pages.contact.info.title')}</h2>
          <p>
            {t('pages.contact.info.description')}
          </p>

          <div class="contact-methods">
            <div class="contact-method">
              <h3>{t('pages.contact.info.methods.general.title')}</h3>
              <p><a href={`mailto:${t('pages.contact.info.methods.general.email')}`}>{t('pages.contact.info.methods.general.email')}</a></p>
            </div>

            <div class="contact-method">
              <h3>{t('pages.contact.info.methods.earlyAccess.title')}</h3>
              <p>
                {t('pages.contact.info.methods.earlyAccess.description')}
                <a href="#early-access">{t('pages.contact.info.methods.earlyAccess.link')}</a> or reach out directly.
              </p>
            </div>

            <div class="contact-method">
              <h3>{t('pages.contact.info.methods.technicalSupport.title')}</h3>
              <p>
                {t('pages.contact.info.methods.technicalSupport.description')}
              </p>
            </div>
          </div>
        </div>

        <div class="contact-form-section">
          <form
            class="contact-form"
            method="POST"
            action="mailto:contact@rediacc.com?subject=Contact%20Form%20Submission"
            enctype="text/plain"
          >
            <div class="form-group">
              <label for="contact-name" class="form-label">{t('pages.contact.form.fields.name.label')}</label>
              <input
                type="text"
                id="contact-name"
                name="name"
                class="form-input"
                required
              />
            </div>

            <div class="form-group">
              <label for="contact-email" class="form-label">{t('pages.contact.form.fields.email.label')}</label>
              <input
                type="email"
                id="contact-email"
                name="email"
                class="form-input"
                required
              />
            </div>

            <div class="form-group">
              <label for="contact-subject" class="form-label">{t('pages.contact.form.fields.subject.label')}</label>
              <select id="contact-subject" name="subject" class="form-select" required>
                <option value="">{t('pages.contact.form.fields.subject.options.placeholder')}</option>
                <option value="early-access">{t('pages.contact.form.fields.subject.options.earlyAccess')}</option>
                <option value="partnership">{t('pages.contact.form.fields.subject.options.partnership')}</option>
                <option value="technical">{t('pages.contact.form.fields.subject.options.technical')}</option>
                <option value="general">{t('pages.contact.form.fields.subject.options.general')}</option>
                <option value="other">{t('pages.contact.form.fields.subject.options.other')}</option>
              </select>
            </div>

            <div class="form-group">
              <label for="contact-message" class="form-label">{t('pages.contact.form.fields.message.label')}</label>
              <textarea
                id="contact-message"
                name="message"
                class="form-textarea"
                rows="6"
                required
                placeholder={t('pages.contact.form.fields.message.placeholder')}
              ></textarea>
            </div>

            <button type="submit" class="btn btn-primary btn-full">
              {t('pages.contact.form.submit')}
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
.contact-content {
  padding: var(--space-20) 0;
}

.contact-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-12);
  align-items: start;
}

.contact-info h2 {
  color: var(--primary-color);
  margin-bottom: var(--space-4);
  font-size: var(--font-size-2xl);
}

.contact-info p {
  color: var(--text-secondary);
  line-height: 1.6;
  margin-bottom: var(--space-8);
}

.contact-methods {
  display: flex;
  flex-direction: column;
  gap: var(--space-6);
}

.contact-method {
  padding: var(--space-4);
  background: var(--background-alt);
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

.contact-method h3 {
  color: var(--primary-color);
  margin-bottom: var(--space-2);
  font-size: var(--font-size-lg);
  font-weight: 600;
}

.contact-method p {
  color: var(--text-secondary);
  margin: 0;
}

.contact-method a {
  color: var(--primary-color);
  text-decoration: none;
}

.contact-method a:hover {
  text-decoration: underline;
}

.contact-form-section {
  background: var(--background-alt);
  padding: var(--space-8);
  border-radius: 8px;
  border: 1px solid var(--border-color);
}

.contact-form {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

@media (max-width: 768px) {
  .contact-grid {
    grid-template-columns: 1fr;
    gap: var(--space-8);
  }
}
</style>