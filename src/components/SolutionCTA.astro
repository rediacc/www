---
import { Image } from 'astro:assets';
import type { Language } from '../i18n/types';

export interface Props {
  title: string;
  subtitle: string;
  buttonText: string;
  buttonHref?: string;
  imageSrc: ImageMetadata;
  imageAlt: string;
  lang?: Language;
}

const {
  title,
  subtitle,
  buttonText,
  buttonHref,
  imageSrc,
  imageAlt,
  lang = 'en'
} = Astro.props;

const ctaLink = buttonHref || `/${lang}/contact`;
---

<section class="solution-cta">
  <div class="container">
    <div class="cta-grid">
      <div class="cta-image">
        <Image
          src={imageSrc}
          alt={imageAlt}
          loading="lazy"
          quality={90}
        />
      </div>
      <div class="cta-content">
        <h2 class="cta-title">{title}</h2>
        <p class="cta-subtitle">{subtitle}</p>
        <a href={ctaLink} class="btn btn-primary btn-large">
          {buttonText}
        </a>
      </div>
    </div>
  </div>
</section>
